<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naren V P | Investment Professional</title>
    <meta name="description"
        content="Naren V P - Investment Professional at Marcellus Investment Managers, Mumbai. Exploring the intersection of finance and artificial intelligence.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://narenvp.github.io/">
    <meta property="og:title" content="Naren V P | Investment Professional">
    <meta property="og:description"
        content="Investment professional based in Mumbai, exploring the intersection of finance and artificial intelligence.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://narenvp.github.io/">
    <meta property="twitter:title" content="Naren V P | Investment Professional">
    <meta property="twitter:description"
        content="Investment professional based in Mumbai, exploring the intersection of finance and artificial intelligence.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=Fraunces:ital,wght@0,400;0,500;0,600;1,400&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css?v=1.0">
</head>

<body>
    <!-- Decorative backgrounds (Visible initially) -->
    <div class="decoration decoration-1"></div>
    <div class="decoration decoration-2"></div>

    <!-- Navigation (Visible initially) -->
    <nav>
        <div class="container">
            <a href="#" class="logo">Naren V P</a>
            <div class="nav-links">
                <a href="#home">Home</a>
                <a href="#projects">Projects</a>
                <a href="#blog">Blog</a>
                <a href="#contact">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <main>
        <section class="hero" id="home">
            <div class="container">
                <!-- Greeting Visible initially -->
                <p class="hero-greeting">Welcome</p>

                <!-- Typewriter Container -->
                <h1>
                    Hello, I'm <span class="name" id="typewriter"></span><span id="cursor"
                        class="typewriter-cursor">|</span>
                </h1>

                <!-- Subtitle (Word Animation) -->
                <p class="subtitle split-target">Investment professional based in Mumbai, exploring the intersection of
                    finance and artificial intelligence.</p>

                <div class="bio">
                    <p class="split-target">
                        I work at <span class="highlight">Marcellus Investment Managers</span>, one of India's leading
                        investment firms known for its focus on clean, well-governed companies with sustainable
                        competitive advantages.
                    </p>
                    <p class="split-target">
                        My work involves presentations, data analysis, helping our team decode anything and such. I am
                        always up for new challenges. Love learning and making things happen.
                    </p>
                    <p class="split-target">
                        Beyond finance, I'm deeply fascinated by <span class="highlight">artificial intelligence</span>
                        and its potential to transform industries, including investment management. I spend my time
                        exploring how AI can augment human decision-making and create new possibilities in research and
                        analysis.
                    </p>
                </div>

                <!-- Social links (Staggered Block) -->
                <div class="social-links reveal-hidden">
                    <a href="https://www.linkedin.com/in/narenvp/" class="social-link" target="_blank" rel="noopener"
                        aria-label="LinkedIn">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                        </svg>
                    </a>
                    <a href="https://www.instagram.com/vpnaren/" class="social-link" target="_blank" rel="noopener"
                        aria-label="Instagram">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z" />
                        </svg>
                    </a>
                    <a href="https://github.com/NarenVP" class="social-link" target="_blank" rel="noopener"
                        aria-label="GitHub">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
                        </svg>
                    </a>
                    <a href="mailto:narenvp01@gmail.com" class="social-link" aria-label="Email">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z" />
                        </svg>
                    </a>
                    <a href="https://x.com/NarenVP1" class="social-link" target="_blank" rel="noopener"
                        aria-label="X (Twitter)">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z" />
                        </svg>
                    </a>
                </div>
            </div>
        </section>

        <!-- Projects Section (Staggered Block) -->
        <section id="projects" class="reveal-hidden">
            <div class="container">
                <div class="section-header">
                    <p class="section-label">Selected Work</p>
                    <h2 class="section-title">Projects</h2>
                </div>
                <div class="projects-grid">
                    <!-- Placeholder Project 1 -->
                    <a href="#" class="project-card">
                        <div class="project-header">
                            <h3 class="project-title">Financial Data Analysis</h3>
                            <svg class="project-icon" viewBox="0 0 24 24">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                            </svg>
                        </div>
                        <p class="project-desc">Exploratory data analysis of market trends using Python and Pandas.
                            Visualizes key investment metrics.</p>
                        <div class="project-tags">
                            <span class="project-tag">Python</span>
                            <span class="project-tag">Data Visualization</span>
                        </div>
                    </a>

                    <!-- Placeholder Project 2 -->
                    <a href="#" class="project-card">
                        <div class="project-header">
                            <h3 class="project-title">AI Research Tool</h3>
                            <svg class="project-icon" viewBox="0 0 24 24">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" />
                            </svg>
                        </div>
                        <p class="project-desc">A prototype tool using LLMs to summarize quarterly earnings calls and
                            extract sentiment.</p>
                        <div class="project-tags">
                            <span class="project-tag">AI/ML</span>
                            <span class="project-tag">NLP</span>
                            <span class="project-tag">Finance</span>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Blog Section (Staggered Block) -->
        <section id="blog" class="reveal-hidden">
            <div class="container">
                <div class="section-header">
                    <p class="section-label">Latest</p>
                    <h2 class="section-title">Writing</h2>
                </div>
                <ul class="blog-list">
                    <li class="blog-item">
                        <a href="#">
                            <span class="blog-title">Coming Soon: Thoughts on Investing and Technology</span>
                            <span class="blog-date">2025</span>
                        </a>
                    </li>
                </ul>
            </div>
        </section>

        <!-- LinkedIn Section -->
        <section id="recent-posts" class="reveal-hidden">
            <div class="container">
                <div class="section-header">
                    <p class="section-label">Social</p>
                    <h2 class="section-title">Recent Posts</h2>
                </div>
                <!-- Widget Container -->
                <div style="display: flex; justify-content: center; width: 100%; margin-top: 30px;">
                    <script src="https://elfsightcdn.com/platform.js" async></script>
                    <div class="elfsight-app-c10e50af-182d-4121-b913-117ce7c7c7bd" data-elfsight-app-lazy></div>
                </div>
            </div>
        </section>

        <!-- Contact Section (Staggered Block) -->
        <section id="contact" class="reveal-hidden">
            <div class="container">
                <div class="section-header" style="text-align: center;">
                    <p class="section-label">Say Hello</p>
                    <h2 class="section-title">Get in Touch</h2>
                </div>

                <div class="contact-wrapper">
                    <p class="contact-intro">
                        I'm always interested in conversations about investing, technology, and the future of finance.
                        Whether you want to discuss ideas, collaborate on something, or just say hello, feel free to
                        reach out.
                    </p>
                    <div id="form-status" class="form-status"></div>
                    <form id="contact-form" class="contact-form">
                        <div class="form-group">
                            <input type="text" id="name" name="name" required placeholder="Name">
                            <label for="name">Name</label>
                        </div>
                        <div class="form-group">
                            <input type="email" id="email" name="email" required placeholder="Email">
                            <label for="email">Email</label>
                        </div>
                        <div class="form-group">
                            <textarea id="message" name="message" required placeholder="Message" rows="4"></textarea>
                            <label for="message">Message</label>
                        </div>
                        <button type="submit" class="submit-btn">
                            <span>Send Message</span>
                            <svg viewBox="0 0 24 24" class="send-icon">
                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                            </svg>
                        </button>
                    </form>

                    <div class="contact-social">
                        <p class="social-label">Or connect via</p>
                        <div class="social-buttons">
                            <a href="mailto:narenvp01@gmail.com" class="contact-btn">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z" />
                                </svg>
                                Email
                            </a>
                            <a href="https://www.linkedin.com/in/narenvp/" class="contact-btn" target="_blank"
                                rel="noopener">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                                </svg>
                                LinkedIn
                            </a>
                            <a href="https://x.com/NarenVP1" class="contact-btn" target="_blank" rel="noopener">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z" />
                                </svg>
                                X
                            </a>
                            <a href="https://www.instagram.com/vpnaren/" class="contact-btn" target="_blank"
                                rel="noopener">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z" />
                                </svg>
                                Instagram
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer (Hidden initially) -->
        <footer class="reveal-hidden">
            <div class="container">
                <span class="footer-text">&copy; 2026 Naren V P</span>
                <div class="footer-links">
                    <a href="#home">Back to top</a>
                </div>
            </div>
        </footer>

        <!-- Firebase SDKs -->
        <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore-compat.js"></script>
        <!-- EmailJS SDK -->
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

        <!-- Firebase & EmailJS Logic -->
        <script>
            // v1.5 - Speed & Logic Update
            console.log("Running Website Version 1.5");

            const firebaseConfig = {
                apiKey: "AIzaSyAkkx7xOkQsCW_Uq7upZwfdGhNn-eYx2A4",
                authDomain: "naren-website.firebaseapp.com",
                projectId: "naren-website",
                storageBucket: "naren-website.firebasestorage.app",
                messagingSenderId: "58025209096",
                appId: "1:58025209096:web:25847343635e2a499510bd",
                measurementId: "G-4QWG62CC1G"
            };

            const EMAILJS_PUBLIC_KEY = "jJrUccp2E4tf5OXVd";
            const EMAILJS_SERVICE_ID = "service_coy5m1s";
            const EMAILJS_TEMPLATE_ID = "template_ldzz98p";

            // Initialize Firebase
            try {
                firebase.initializeApp(firebaseConfig);
                const db = firebase.firestore();
                console.log("Firebase Initialized");
            } catch (error) {
                console.error("Firebase Init Error (Expected if keys are missing):", error);
            }

            // Initialize EmailJS
            try {
                emailjs.init(EMAILJS_PUBLIC_KEY);
                console.log("EmailJS Initialized");
            } catch (error) {
                console.error("EmailJS Init Error:", error);
            }

            // Form Handling
            document.addEventListener('DOMContentLoaded', () => {
                const form = document.getElementById('contact-form');
                const statusDiv = document.getElementById('form-status');

                // Helper to prevent hanging forever
                const timeoutPromise = (promise, ms) => {
                    return new Promise((resolve, reject) => {
                        const timeoutId = setTimeout(() => {
                            reject(new Error("Operation timed out. Please check your internet connection."));
                        }, ms);
                        promise.then(
                            (res) => {
                                clearTimeout(timeoutId);
                                resolve(res);
                            },
                            (err) => {
                                clearTimeout(timeoutId);
                                reject(err);
                            }
                        );
                    });
                };

                if (form) {
                    form.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        const btn = form.querySelector('.submit-btn');
                        const originalBtnText = btn.innerHTML;

                        // Disable button
                        btn.disabled = true;
                        statusDiv.style.display = 'block';
                        statusDiv.className = 'form-status';
                        statusDiv.textContent = "Checking details...";

                        // Helper: Title Case
                        const toTitleCase = (str) => {
                            return str.replace(/\w\S*/g, (txt) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());
                        };

                        // 1. Get & Format Data
                        let rawName = document.getElementById('name').value;
                        const name = toTitleCase(rawName); // Rule 1: Auto-Capitalize
                        const email = document.getElementById('email').value.toLowerCase().trim();
                        const message = document.getElementById('message').value;

                        let firestoreSuccess = false;
                        let emailSuccess = false;
                        let errors = [];

                        try {
                            if (!firebase.apps.length) throw new Error("Firebase not initialized.");
                            const db = firebase.firestore();

                            // STEP 1: Duplicate Check
                            statusDiv.textContent = "Verifying email...";
                            let duplicateQuery;
                            try {
                                duplicateQuery = await timeoutPromise(
                                    db.collection('contacts').where('email', '==', email).get(),
                                    5000
                                );
                            } catch (readError) {
                                console.error("Read Error:", readError);
                                throw new Error("Could not verify email. (Permission check failed?)");
                            }

                            if (!duplicateQuery.empty) {
                                throw new Error("You are already registered!");
                            }

                            // STEP 2: Save
                            btn.innerHTML = 'Saving...';
                            statusDiv.textContent = "Registering..."; // Update UI

                            const docRef = await timeoutPromise(
                                db.collection('contacts').add({
                                    name: name,
                                    email: email,
                                    message: message,
                                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                                }),
                                10000
                            );

                            firestoreSuccess = true;
                            console.log("Firestore saved. ID:", docRef.id);
                            var savedId = docRef.id;

                        } catch (err) {
                            if (err.message === "You are already registered!") {
                                statusDiv.innerHTML = "⚠️ " + err.message;
                                statusDiv.classList.add('error');
                                btn.disabled = false;
                                btn.innerHTML = originalBtnText;
                                return;
                            }
                            console.error("Firestore Error:", err);
                            errors.push(err.message); // Clean error message
                        }

                        // ... Proceed ...

                        try {
                            // 2. Send Email via EmailJS
                            // Note: We map inputs to match your Template Variables (name, title, etc.)
                            btn.innerHTML = 'Sending Email...';
                            await timeoutPromise(
                                emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, {
                                    // Standard fields
                                    from_name: name,
                                    from_email: email,
                                    message: message,
                                    reply_to: email,

                                    // Fields matching your specific Template screenshot
                                    name: name,       // Matches {{name}}
                                    title: message,   // Matches {{title}}
                                    email: email,     // Commonly used for "To Email"
                                    to_email: email   // Just in case
                                }),
                                10000 // 10 second timeout
                            );
                            emailSuccess = true;
                            console.log("Email sent.");
                        } catch (err) {
                            console.error("EmailJS Error:", err);
                            // EmailJS returns an object format { status: ..., text: ... } usually
                            let errMsg = err.message || err.text || JSON.stringify(err);
                            errors.push("Email Error: " + errMsg);
                        }

                        // Final Status logic
                        if (firestoreSuccess && emailSuccess) {
                            statusDiv.textContent = "Thanks! Saved (Ref: " + (typeof savedId !== 'undefined' ? savedId : 'OK') + "). Email sent.";
                            statusDiv.classList.add('success');
                            form.reset();
                        } else if (firestoreSuccess || emailSuccess) {
                            // Partial success
                            let msg = "Message received (Partial success). " + (firestoreSuccess ? ("Saved (Ref: " + savedId + ").") : "Email sent.");
                            if (errors.length > 0) {
                                msg += "<br><small style='color:#c62828'>Warning: " + errors.join(", ") + "</small>";
                            }
                            statusDiv.innerHTML = msg;
                            statusDiv.classList.add('success');
                            form.reset();
                        } else {
                            // Total failure
                            statusDiv.innerHTML = "Failed to send.<br>" + errors.join("<br>");
                            statusDiv.classList.add('error');
                        }

                        // Re-enable button
                        btn.disabled = false;
                        btn.innerHTML = originalBtnText;

                        // Auto-hide if successful
                        if (firestoreSuccess && emailSuccess) {
                            setTimeout(() => {
                                statusDiv.style.display = 'none';
                            }, 5000);
                        }
                    });
                }
            });
        </script>

        <!-- Typewriter Script -->
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // Force scroll to top on refresh
                if (history.scrollRestoration) {
                    history.scrollRestoration = 'manual';
                } else {
                    window.onbeforeunload = function () {
                        window.scrollTo(0, 0);
                    }
                }
                window.scrollTo(0, 0);

                // 1. Prepare Split Text for Animation
                const splitTargets = document.querySelectorAll('.split-target');
                splitTargets.forEach(target => {
                    const originalHtml = target.innerHTML;
                    const newHtml = originalHtml.replace(/(<[^>]+>|[^< ]+)/g, function (match) {
                        if (match.startsWith('<')) return match;
                        if (match.trim() === '') return match;
                        return '<span class="reveal-word">' + match + '</span>';
                    });

                    target.innerHTML = newHtml;
                    // Note: We DO NOT set opacity:1 here. CSS keeps it hidden until JS triggers it.
                });

                const text = "Naren V P";
                const typeDelay = 70; // 30% Faster (was 100)
                const element = document.getElementById('typewriter');
                const cursor = document.getElementById('cursor');

                let charIndex = 0;

                function type() {
                    cursor.classList.add('cursor-blink');
                    if (charIndex < text.length) {
                        element.innerHTML += text.charAt(charIndex);
                        charIndex++;
                        setTimeout(type, typeDelay);
                    } else {
                        finishTyping();
                    }
                }

                function finishTyping() {
                    // Wait 400ms (Aggressively reduced from 1000ms to hit 3s total)
                    setTimeout(() => {
                        // 1. Reveal Parents
                        const splitTargets = document.querySelectorAll('.split-target');
                        splitTargets.forEach(t => t.style.opacity = '1');

                        // 2. Animate Words (Subtitle & Bio)
                        const words = document.querySelectorAll('.reveal-word');
                        words.forEach((word, index) => {
                            setTimeout(() => {
                                word.classList.add('visible');
                            }, index * 15); // 30% Faster ripple (was 22ms)
                        });

                        // 3. Animate Blocks
                        const blocks = document.querySelectorAll('.reveal-hidden');
                        let wordDelayOffset = words.length * 12;

                        blocks.forEach((block, index) => {
                            setTimeout(() => {
                                block.classList.add('reveal-visible');
                                block.classList.remove('reveal-hidden');
                            }, wordDelayOffset + (index * 80)); // 30% Faster stagger (was 110ms)
                        });

                    }, 400);

                    setTimeout(() => {
                        cursor.style.display = 'none';
                    }, 5000);
                }

                setTimeout(type, 500); // Start faster (was 1000)
            });
        </script>
</body>

</html>